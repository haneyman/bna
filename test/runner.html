<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>BNA QUnit Tests</title>
    <link rel="stylesheet" href="qunit.css">
    <!--<link rel="stylesheet" href="../assets/css/jquery.mobile-1.1.1.min.css" type="text/css" media="screen" />-->
    <script src="../assets/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <!--<script src="../assets/js/jquery.mobile-1.1.1.min.js" type="text/javascript" charset="utf-8"></script>-->
    <script src="../assets/js/jquery.csv.js" type="text/javascript" charset="utf-8"></script>
    <script src="../assets/js/bna.js"></script>
    <script src="qunit.js"></script>
    <!--<script src="tests.js"></script>-->
    <script>
        test( "hello test", function() {
            ok( 2 ==2, "Needs to be equal!" );
        });

        var expStations = 48;
        var expStopTimes = 29462;
        module( "Trip Times", {
            setup: function() {
            }, teardown: function() {
            }
        });

        test('Load stations', function() {
            ok(loadStations()==expStations,"Correct number of stations of " + expStations);
        });

        test('Load times', function() {
            ok(loadStopTimes()==expStopTimes,"Correct number of stoptimes of " + expStopTimes);
        });
        //Trip Times
        test('Get Trip Times - Conc to Embr 16:00', function() {
            testGetTripTime("CONC","EMBR","MON","16:00:00", 2580)
        });

        test('Get Trip Times = Conc to Embr 16:00 again', function() {
            testGetTripTime("CONC","EMBR","MON","16:00:00", 2580)
        });

        test('Get Trip Times = Embr to Conc 16:00', function() {
            testGetTripTime("EMBR","CONC","MON","16:00:00", 2460)
        });

        test('Get Trip Times - Conc to Embr 8:00', function() {
            testGetTripTime("CONC","EMBR","MON","8:00:00", 2580)
        });

        test('Get Trip Times - Conc to Embr 23:00', function() {
            testGetTripTime("CONC","EMBR","MON","23:00:00", 2580)
        });

        test('Get Trip Times = Embr to Conc 8:00', function() {
            testGetTripTime("EMBR","CONC","MON","8:00:00", 2460)
        });

        test('Get Trip Times = Embr to Conc 11:00 SAT', function() {
            testGetTripTime("EMBR","CONC","SAT","11:00:00", 2520)
        });

        test('Get Trip Times = Embr to Conc 11:00 SUN', function() {
            testGetTripTime("EMBR","CONC","SUN","11:00:00", 2520)
        });

        test('Get Trip Times = Embr to Conc 23:00 SAT', function() {
            testGetTripTime("EMBR","CONC","SAT","23:00:00", 2520)
        });

        test('Get Trip Times = Embr to Conc 23:00 SUN', function() {
            testGetTripTime("EMBR","CONC","SUN","23:00:00", 2520)
        });

//        test("basics", function() {
//            var values = {
//                name: "World"
//            };
//            equal( format("Hello, {name}", values), "Hello, World", "single use" );
//            equal( format("Hello, {name}, how is {name} today?", values),
//                    "Hello, World, how is World today?", "multiple" );
//        });


        function testGetTripTime(origin, dest, dayOfWeek, curtime, expectedTime) {
            if (arrayStopTimes.length == 0)
                loadStopTimes();
            var time = getTripTime(origin, dest, dayOfWeek, curtime);

            equal(time, expectedTime, 'Correct time of ' + expectedTime/60 + ' min for ' + origin + ' to ' + dest + ' day: ' + dayOfWeek + ' time: ' + curtime);
        }
        //end of trip tims modules


    </script>
    <!--<script src="tests.js"></script>-->
</head>
<body>
    <h1 id="qunit-header">QUnit Test Suite</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup</div>
</body>
</html>